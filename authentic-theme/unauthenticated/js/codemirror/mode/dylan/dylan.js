(function(a){if(typeof exports=="object"&&typeof module=="object"){a(require("../../lib/codemirror"))}else{if(typeof define=="function"&&define.amd){define(["../../lib/codemirror"],a)}else{a(CodeMirror)}}})(function(a){function c(d,g){for(var e=0;e<d.length;e++){g(d[e],e)}}function b(d,g){for(var e=0;e<d.length;e++){if(g(d[e],e)){return true}}return false}a.defineMode("dylan",function(n){var m={unnamedDefinition:["interface"],namedDefinition:["module","library","macro","C-struct","C-union","C-function","C-callable-wrapper"],typeParameterizedDefinition:["class","C-subtype","C-mapped-subtype"],otherParameterizedDefinition:["method","function","C-variable","C-address"],constantSimpleDefinition:["constant"],variableSimpleDefinition:["variable"],otherSimpleDefinition:["generic","domain","C-pointer-type","table"],statement:["if","block","begin","method","case","for","select","when","unless","until","while","iterate","profiling","dynamic-bind"],separator:["finally","exception","cleanup","else","elseif","afterwards"],other:["above","below","by","from","handler","in","instance","let","local","otherwise","slot","subclass","then","to","keyed-by","virtual"],signalingCalls:["signal","error","cerror","break","check-type","abort"]};m.otherDefinition=m.unnamedDefinition.concat(m.namedDefinition).concat(m.otherParameterizedDefinition);m.definition=m.typeParameterizedDefinition.concat(m.otherDefinition);m.parameterizedDefinition=m.typeParameterizedDefinition.concat(m.otherParameterizedDefinition);m.simpleDefinition=m.constantSimpleDefinition.concat(m.variableSimpleDefinition).concat(m.otherSimpleDefinition);m.keyword=m.statement.concat(m.separator).concat(m.other);var p="[-_a-zA-Z?!*@<>$%]+";var h=new RegExp("^"+p);var f={symbolKeyword:p+":",symbolClass:"<"+p+">",symbolGlobal:"\\*"+p+"\\*",symbolConstant:"\\$"+p};var l={symbolKeyword:"atom",symbolClass:"tag",symbolGlobal:"variable-2",symbolConstant:"variable-3"};for(var k in f){if(f.hasOwnProperty(k)){f[k]=new RegExp("^"+f[k])}}f.keyword=[/^with(?:out)?-[-_a-zA-Z?!*@<>$%]+/];var q={};q.keyword="keyword";q.definition="def";q.simpleDefinition="def";q.signalingCalls="builtin";var e={};var j={};c(["keyword","definition","simpleDefinition","signalingCalls"],function(r){c(m[r],function(s){e[s]=r;j[s]=q[r]})});function d(t,s,r){s.tokenize=r;return r(t,s)}function g(v,u){var s=v.peek();if(s=="'"||s=='"'){v.next();return d(v,u,o(s,"string"))}else{if(s=="/"){v.next();if(v.eat("*")){return d(v,u,i)}else{if(v.eat("/")){v.skipToEnd();return"comment"}}v.backUp(1)}else{if(/[+\-\d\.]/.test(s)){if(v.match(/^[+-]?[0-9]*\.[0-9]*([esdx][+-]?[0-9]+)?/i)||v.match(/^[+-]?[0-9]+([esdx][+-]?[0-9]+)/i)||v.match(/^[+-]?\d+/)){return"number"}}else{if(s=="#"){v.next();s=v.peek();if(s=='"'){v.next();return d(v,u,o('"',"string"))}else{if(s=="b"){v.next();v.eatWhile(/[01]/);return"number"}else{if(s=="x"){v.next();v.eatWhile(/[\da-f]/i);return"number"}else{if(s=="o"){v.next();v.eatWhile(/[0-7]/);return"number"}else{if(s=="#"){v.next();return"punctuation"}else{if((s=="[")||(s=="(")){v.next();return"bracket"}else{if(v.match(/f|t|all-keys|include|key|next|rest/i)){return"atom"}else{v.eatWhile(/[-a-zA-Z]/);return"error"}}}}}}}}else{if(s=="~"){v.next();s=v.peek();if(s=="="){v.next();s=v.peek();if(s=="="){v.next();return"operator"}return"operator"}return"operator"}else{if(s==":"){v.next();s=v.peek();if(s=="="){v.next();return"operator"}else{if(s==":"){v.next();return"punctuation"}}}else{if("[](){}".indexOf(s)!=-1){v.next();return"bracket"}else{if(".,".indexOf(s)!=-1){v.next();return"punctuation"}else{if(v.match("end")){return"keyword"}}}}}}}}}for(var r in f){if(f.hasOwnProperty(r)){var t=f[r];if((t instanceof Array&&b(t,function(w){return v.match(w)}))||v.match(t)){return l[r]}}}if(/[+\-*\/^=<>&|]/.test(s)){v.next();return"operator"}if(v.match("define")){return"def"}else{v.eatWhile(/[\w\-]/);if(e.hasOwnProperty(v.current())){return j[v.current()]}else{if(v.current().match(h)){return"variable"}else{v.next();return"variable-2"}}}}function i(w,u){var s=false,r=false,v=0,t;while((t=w.next())){if(t=="/"&&s){if(v>0){v--}else{u.tokenize=g;break}}else{if(t=="*"&&r){v++}}s=(t=="*");r=(t=="/")}return"comment"}function o(r,s){return function(x,v){var w=false,u,t=false;while((u=x.next())!=null){if(u==r&&!w){t=true;break}w=!w&&u=="\\"}if(t||!w){v.tokenize=g}return s}}return{startState:function(){return{tokenize:g,currentIndent:0}},token:function(t,s){if(t.eatSpace()){return null}var r=s.tokenize(t,s);return r},blockCommentStart:"/*",blockCommentEnd:"*/"}});a.defineMIME("text/x-dylan","dylan")});