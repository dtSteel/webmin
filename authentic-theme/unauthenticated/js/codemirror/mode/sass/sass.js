(function(a){if(typeof exports=="object"&&typeof module=="object"){a(require("../../lib/codemirror"),require("../css/css"))}else{if(typeof define=="function"&&define.amd){define(["../../lib/codemirror","../css/css"],a)}else{a(CodeMirror)}}})(function(a){a.defineMode("sass",function(s){var t=a.mimeModes["text/css"];var g=t.propertyKeywords||{},m=t.colorKeywords||{},p=t.valueKeywords||{},d=t.fontProperties||{};function h(x){return new RegExp("^"+x.join("|"))}var i=["true","false","null","auto"];var f=new RegExp("^"+i.join("|"));var o=["\\(","\\)","=",">","<","==",">=","<=","\\+","-","\\!=","/","\\*","%","and","or","not",";","\\{","\\}",":"];var n=h(o);var l=/^::?[a-zA-Z_][\w\-]*/;var q;function r(x){return !x.peek()||x.match(/\s+$/,false)}function c(z,y){var x=z.peek();if(x===")"){z.next();y.tokenizer=w;return"operator"}else{if(x==="("){z.next();z.eatSpace();return"operator"}else{if(x==="'"||x==='"'){y.tokenizer=u(z.next());return"string"}else{y.tokenizer=u(")",false);return"string"}}}}function b(x,y){return function(A,z){if(A.sol()&&A.indentation()<=x){z.tokenizer=w;return w(A,z)}if(y&&A.skipTo("*/")){A.next();A.next();z.tokenizer=w}else{A.skipToEnd()}return"comment"}}function u(x,z){if(z==null){z=true}function y(E,B){var D=E.next();var A=E.peek();var F=E.string.charAt(E.pos-2);var C=((D!=="\\"&&A===x)||(D===x&&F!=="\\"));if(C){if(D!==x&&z){E.next()}if(r(E)){B.cursorHalf=0}B.tokenizer=w;return"string"}else{if(D==="#"&&A==="{"){B.tokenizer=j(y);E.next();return"operator"}else{return"string"}}}return y}function j(x){return function(z,y){if(z.peek()==="}"){z.next();y.tokenizer=x;return"operator"}else{return w(z,y)}}}function k(y){if(y.indentCount==0){y.indentCount++;var z=y.scopes[0].offset;var x=z+s.indentUnit;y.scopes.unshift({offset:x})}}function e(x){if(x.scopes.length==1){return}x.scopes.shift()}function w(z,y){var x=z.peek();if(z.match("/*")){y.tokenizer=b(z.indentation(),true);return y.tokenizer(z,y)}if(z.match("//")){y.tokenizer=b(z.indentation(),false);return y.tokenizer(z,y)}if(z.match("#{")){y.tokenizer=j(w);return"operator"}if(x==='"'||x==="'"){z.next();y.tokenizer=u(x);return"string"}if(!y.cursorHalf){if(x==="-"){if(z.match(/^-\w+-/)){return"meta"}}if(x==="."){z.next();if(z.match(/^[\w-]+/)){k(y);return"qualifier"}else{if(z.peek()==="#"){k(y);return"tag"}}}if(x==="#"){z.next();if(z.match(/^[\w-]+/)){k(y);return"builtin"}if(z.peek()==="#"){k(y);return"tag"}}if(x==="$"){z.next();z.eatWhile(/[\w-]/);return"variable-2"}if(z.match(/^-?[0-9\.]+/)){return"number"}if(z.match(/^(px|em|in)\b/)){return"unit"}if(z.match(f)){return"keyword"}if(z.match(/^url/)&&z.peek()==="("){y.tokenizer=c;return"atom"}if(x==="="){if(z.match(/^=[\w-]+/)){k(y);return"meta"}}if(x==="+"){if(z.match(/^\+[\w-]+/)){return"variable-3"}}if(x==="@"){if(z.match(/@extend/)){if(!z.match(/\s*[\w]/)){e(y)}}}if(z.match(/^@(else if|if|media|else|for|each|while|mixin|function)/)){k(y);return"def"}if(x==="@"){z.next();z.eatWhile(/[\w-]/);return"def"}if(z.eatWhile(/[\w-]/)){if(z.match(/ *: *[\w-\+\$#!\("']/,false)){q=z.current().toLowerCase();var A=y.prevProp+"-"+q;if(g.hasOwnProperty(A)){return"property"}else{if(g.hasOwnProperty(q)){y.prevProp=q;return"property"}else{if(d.hasOwnProperty(q)){return"property"}}}return"tag"}else{if(z.match(/ *:/,false)){k(y);y.cursorHalf=1;y.prevProp=z.current().toLowerCase();return"property"}else{if(z.match(/ *,/,false)){return"tag"}else{k(y);return"tag"}}}}if(x===":"){if(z.match(l)){return"variable-3"}z.next();y.cursorHalf=1;return"operator"}}else{if(x==="#"){z.next();if(z.match(/[0-9a-fA-F]{6}|[0-9a-fA-F]{3}/)){if(r(z)){y.cursorHalf=0}return"number"}}if(z.match(/^-?[0-9\.]+/)){if(r(z)){y.cursorHalf=0}return"number"}if(z.match(/^(px|em|in)\b/)){if(r(z)){y.cursorHalf=0}return"unit"}if(z.match(f)){if(r(z)){y.cursorHalf=0}return"keyword"}if(z.match(/^url/)&&z.peek()==="("){y.tokenizer=c;if(r(z)){y.cursorHalf=0}return"atom"}if(x==="$"){z.next();z.eatWhile(/[\w-]/);if(r(z)){y.cursorHalf=0}return"variable-2"}if(x==="!"){z.next();y.cursorHalf=0;return z.match(/^[\w]+/)?"keyword":"operator"}if(z.match(n)){if(r(z)){y.cursorHalf=0}return"operator"}if(z.eatWhile(/[\w-]/)){if(r(z)){y.cursorHalf=0}q=z.current().toLowerCase();if(p.hasOwnProperty(q)){return"atom"}else{if(m.hasOwnProperty(q)){return"keyword"}else{if(g.hasOwnProperty(q)){y.prevProp=z.current().toLowerCase();return"property"}else{return"tag"}}}}if(r(z)){y.cursorHalf=0;return null}}if(z.match(n)){return"operator"}z.next();return null}function v(E,y){if(E.sol()){y.indentCount=0}var z=y.tokenizer(E,y);var D=E.current();if(D==="@return"||D==="}"){e(y)}if(z!==null){var A=E.pos-D.length;var C=A+(s.indentUnit*y.indentCount);var x=[];for(var B=0;B<y.scopes.length;B++){var F=y.scopes[B];if(F.offset<=C){x.push(F)}}y.scopes=x}return z}return{startState:function(){return{tokenizer:w,scopes:[{offset:0,type:"sass"}],indentCount:0,cursorHalf:0,definedVars:[],definedMixins:[]}},token:function(z,y){var x=v(z,y);y.lastToken={style:x,content:z.current()};return x},indent:function(x){return x.scopes[0].offset}}});a.defineMIME("text/x-sass","sass")});